{
    "initialize": {
        "Singular": [
            {
                "name" : "GlobalConfigParams",
                "_comment" : "Stores common params accross multiple passes. Access through the Computation Model.",
                "barrier_index_assignment" : "Dynamic",
                "Number_of_DPUs" : 5,
                "Number_of_Clusters" : 1,
                "CMX_memory_overflow_safety_factor" : 0.9
            },
            "AssignUniqueOpId",
            {
                "name": "GenerateDot",
                "output": "original_model.dot",
                "scope": "OpControlModel",
                "content": "full",
                "html": true
            },
            {
                "name": "CreateSourceStructure",
                "VersionMajor": 3,
                "VersionMinor": 2,
                "VersionPatch": 1,
                "VersionHash": "MarcoHash",
                "ResourcesUpaShaves": 8,
                "ResourcesNCE1Mask": 1,
                "ResourcesNCE2Mask": 2,
                "ResourcesUPASharedCMX": 2,
                "ResourcesNNCMXPerSlice": 2,
                "ResourcesNNCMXSliceAmount": 2,
                "ResourcesDDRScratch": 2
            }
        ]
    },
    "adapt": {
        "Singular": [
            "AverageAsDepthWise",
            "FuseBatchNorm",
            "FuseBias",
            "FuseRelu",
            "FuseScale",
            {
                "name": "GenerateDot",
                "output": "adapt_model.dot",
                "scope": "OpControlModel",
                "content": "full",
                "html": true
            }
        ]
    },
    "keembay_adapt": {
        "Singular": [
            "ExtendQuantizationParams",
            "ConvertOpsToTasks",
            "KMBOrderConversion",
            "AlignTaskWeights",
            "GenerateSparsityMaps",
            "GenerateWeightsTables",
            {
                "name": "GenerateDot",
                "output": "keembay_adapt_model.dot",
                "scope": "OpControlModel",
                "content": "full",
                "html": true
            }
        ]
    },
    "dma": {
        "Singular" : [
            "AddDMATasks",
            {
                "name": "GenerateDot",
                "output": "dma_model.dot",
                "scope": "OpControlModel",
                "content": "full",
                "html": true
            },
            "AddDeallocationTasks",
            "AddFinalDMATask",
            {
                "name": "GenerateDot",
                "output": "deallocation_model_data.dot",
                "scope": "OpModel",
                "content": "full",
                "html": true
            },
            {
                "name": "GenerateDot",
                "output": "deallocation_model_control.dot",
                "scope": "ControlModel",
                "content": "full",
                "html": true
            }
        ]
    },
    "control_flows":{
        "Singular" : [
            "DmaControlFlows",
            {
                "name": "GenerateDot",
                "output": "DmaControlFlows_model.dot",
                "scope": "ControlModel",
                "content": "full",
                "html": true
            },
            "InputOutputControlFlows",
            {
                "name": "GenerateDot",
                "output": "InputOutputControlFlows_model.dot",
                "scope": "ControlModel",
                "content": "full",
                "html": true
            },
            "TransitiveReduction",
            {
                "name": "GenerateDot",
                "output": "TransitiveReduction.dot",
                "scope": "ControlModel",
                "content": "full",
                "html": true
            }
        ]
    },
    "finalize": {
        "Singular": [           
            "MaxTopologicalCutAndPartialSerialisation",
            {
                "name": "GenerateDot",
                "output": "MaxTopologicalCutAndPartialSerialisation.dot",
                "scope": "ControlModel",
                "content": "full",
                "html": true
            },
            {
                "name": "GenerateWorkloads",
                "costfunction": "balanced",
                "_comment": "Supported cost functions are: balanced | criticalpath | minmax | greedy"
            },
            "RemoveDeallocationTasks",
            "TransitiveReduction",
            {
                "name":"InsertBarrierTasks",
                "barrier_index_assignment": "Dynamic"
            },
            "AddBarrierRefs",
            "UpdateBarrierProducerConsumerCounts",
            "AssignUniqueTaskId",
            "ArrangeKeembayExecution",
            "TransitiveReduction",
            "AllocateInputOutputTensorsKeemBay",
            "AllocatePopulatedTensorsKeemBay",
            "AllocateUnpopulatedTensorsKeemBay",
            "TensorGraphColoring",
            {
                "name": "GenerateDot",
                "output": "final_model.dot",
                "scope": "OpControlModel",
                "content": "full",
                "html": true
            }
        ]
    },
    "validate": {
        "Singular": [
            "CheckTensors"
        ]
    },
    "serialize": {
        "Singular": [
            {
                "name": "GenerateBlobKeembay",
                "output": "blob.bin",
                "barrier_index_assignment": "Dynamic"
            }
        ]
    },
    "root": {
        "Singular": [
            "initialize",
            "validate",
            "adapt",
            "keembay_adapt",
            "dma",
            "control_flows",
            "finalize",
            "serialize"
        ],
        "Recurrent": [
            "validate"
        ]
    }
}