<!-- Autogenerated by mlir-tblgen; don't manually edit -->
# 'EMU' Dialect

Emulator IR Dialect
The **EMU Dialect** represents the **IE Dialect** with additional logic to achieve compute equivalence.

It has the following properties:

* Maintains network representation close to original InferenceEngine one, to aid in debug scenarios.
* Describes network topology without HW details that don't affect compute (memory, sparsity, scheduling).
* Performs transformations to arrive at UPA/DPU operations at the same level as **VPUIP Dialect**.
* Facilitates graph serialization to graphfile schema inside MLIR framework.

[./EMU/_ops_interfaces.md]

[TOC]

## Operation definition

### `EMU.NCEClusterTask` (vpux::EMU::NCEClusterTaskOp)

NCE Cluster Task Operation


Syntax:

```
operation ::= `EMU.NCEClusterTask` attr-dict
              `input` `(` $input  `:` type($input) `)`
              (`weights` `(` $weights^  `:` type($weights) `)`)?
              (`weight_table` `(` $weight_table^  `:` type($weight_table) `)`)?
              `->` type(results)
              `PPE` `:` $ppe
```

This operation defines an NCE task.

It supports fixed PPE functions as well as generic PPE instruction
lists. The generic PPE instruction list argument needs to be described as a region of PPE
supported ops. Single fixed PPE functions and generic PPE instruciton list usage is
mutually exclusive.

Traits: AttrSizedOperandSegments, HasOnlyGraphRegion, NoRegionArguments, NoTerminator, SingleBlock

Interfaces: NoSideEffect (MemoryEffectOpInterface), OpAsmOpInterface, RegionKindInterface, SerializeInterface

Effects: MemoryEffects::Effect{}

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `task_type` | vpux::VPUIP::NCETaskTypeAttr | NCE task type
| `kernel_size` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `kernel_strides` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `kernel_padding` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `rawFilterShape` | ::mlir::ArrayAttr | 64-bit integer array attribute with exactly 4 elements

#### Operands:

| Operand | Description |
| :-----: | ----------- |
| `input` | ranked tensor of 16-bit float or QuantizedType values
| `weights` | ranked tensor of 16-bit float or QuantizedType values
| `weight_table` | ranked tensor of 32-bit signed integer values

#### Results:

| Result | Description |
| :----: | ----------- |
| `output` | ranked tensor of 16-bit float or 32-bit float or QuantizedType values

### `EMU.PPETask` (vpux::EMU::PPETaskOp)

PPE Type for NCE Task


Syntax:

```
operation ::= `EMU.PPETask` $ppe_layer_type attr-dict
```


Traits: HasParent<vpux::EMU::NCEClusterTaskOp>

#### Attributes:

| Attribute | MLIR Type | Description |
| :-------: | :-------: | ----------- |
| `ppe_layer_type` | vpux::VPU::PPEModeAttr | Post Processing Element Type
| `clamp_low` | mlir::IntegerAttr | Integer attribute
| `clamp_high` | mlir::IntegerAttr | Integer attribute
| `lrelu_mult` | mlir::IntegerAttr | Integer attribute
| `lrelu_shift` | mlir::IntegerAttr | Integer attribute
| `quant_mult` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `quant_shift` | ::mlir::ArrayAttr | 64-bit integer array attribute
| `quant_post_shift` | mlir::IntegerAttr | Integer attribute

